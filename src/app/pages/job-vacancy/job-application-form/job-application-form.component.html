<form [formGroup]="form" (ngSubmit)="onSubmit()" class="job-application-form">
  <mat-form-field appearance="outline">
    <mat-label>First Name</mat-label>
    <input matInput formControlName="firstName" required>
    <mat-error *ngIf="f['firstName'].invalid && f['firstName'].touched">
      <span *ngIf="f['firstName'].errors?.['required']">First name is required</span>
      <span *ngIf="f['firstName'].errors?.['minlength']">Minimum 2 characters</span>
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Last Name</mat-label>
    <input matInput formControlName="lastName" required>
    <mat-error *ngIf="f['lastName'].invalid && f['lastName'].touched">
      <span *ngIf="f['lastName'].errors?.['required']">Last name is required</span>
      <span *ngIf="f['lastName'].errors?.['minlength']">Minimum 2 characters</span>
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Email</mat-label>
    <input matInput formControlName="email" type="email" required>
    <mat-error *ngIf="f['email'].invalid && f['email'].touched">
      <span *ngIf="f['email'].errors?.['required']">Email is required</span>
      <span *ngIf="f['email'].errors?.['email']">Invalid email format</span>
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Phone Number</mat-label>
    <input matInput formControlName="phone" type="tel" required>
    <mat-error *ngIf="f['phone'].invalid && f['phone'].touched">
      <span *ngIf="f['phone'].errors?.['required']">Phone number is required</span>
      <span *ngIf="f['phone'].errors?.['pattern']">Invalid phone number format</span>
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>LinkedIn Profile (Optional)</mat-label>
    <input matInput formControlName="linkedIn">
    <mat-error *ngIf="f['linkedIn'].invalid && f['linkedIn'].touched">
      <span *ngIf="f['linkedIn'].errors?.['pattern']">Invalid LinkedIn URL</span>
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Expected Salary</mat-label>
    <input matInput type="number" formControlName="salary" required>
    <mat-error *ngIf="f['salary'].invalid && f['salary'].touched">
      <span *ngIf="f['salary'].errors?.['required']">Salary is required</span>
      <span *ngIf="f['salary'].errors?.['min']">Salary must be positive</span>
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>How Did You Find Us?</mat-label>
    <mat-select formControlName="howDidFind" required>
      <mat-option value="job-board">Job Board</mat-option>
      <mat-option value="linkedin">LinkedIn</mat-option>
      <mat-option value="referral">Referral</mat-option>
      <mat-option value="company-website">Company Website</mat-option>
      <mat-option value="other">Other</mat-option>
    </mat-select>
    <mat-error *ngIf="f['howDidFind'].invalid && f['howDidFind'].touched">
      Please select how you found us
    </mat-error>
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Notice Period</mat-label>
    <mat-select formControlName="noticePeriod" required>
      <mat-option value="immediate">Immediate</mat-option>
      <mat-option value="2-weeks">2 Weeks</mat-option>
      <mat-option value="1-month">1 Month</mat-option>
      <mat-option value="3-months">3 Months</mat-option>
    </mat-select>
    <mat-error *ngIf="f['noticePeriod'].invalid && f['noticePeriod'].touched">
      Please select your notice period
    </mat-error>
  </mat-form-field>

  <div class="form-actions">
    <button 
      mat-raised-button 
      color="primary" 
      type="submit" 
      [disabled]="form.invalid || isSubmitting"
    >
      <span *ngIf="!isSubmitting">Submit Application</span>
      <mat-spinner 
        *ngIf="isSubmitting" 
        diameter="20" 
        color="accent"
      ></mat-spinner>
    </button>
  </div>
</form>